<div role="tabpanel" class="tab-pane active" id="historias">

  <div class="container">

    <div class="row">

      <div class="col-sm-4">

        <div class="form-group">

          <div class="text-center">
            <h3>Pacientes</h3>
            <small>Seleccione o busque un paciente</small>
          </div>

          <div class="input-group">
            <span class="input-group-addon">
              <i class="fa fa-search" aria-hidden="true"></i>
            </span>
            <input type="text" class="form-control" ng-model="$ctrl.filterPatient" id="inputGroupSuccess4" aria-describedby="inputGroupSuccess4Status">
          </div>

        </div>

        <!--patients {{ $ctrl.patients | json }}-->
        <select multiple
          class="person"
          ng-model="$ctrl.patient"
          ng-click="$ctrl.selectPatient()"
          ng-options="patient.name for patient in $ctrl.patients | filter:$ctrl.filterPatient track by patient.$id">
        </select>

      </div>

      <div class="col-sm-8">

        <div ng-if="$ctrl.selectedPatient">
        
          <div class="text-center">
            <h3>ATENCIONES DE {{ $ctrl.selectedPatient.name }}</h3>
          </div>

          <table class="table table-striped">
            <thead class="thead-inverse">
              <tr>
                <th>Fecha</th>
                <th>Médico</th>
                <th>Descripción</th>
              </tr>
            </thead>
            <tbody>
              {{$ctrl.clinicalHistory | json}}
              <tr ng-repeat="history in $ctrl.clinicalHistory">
                <td>{{ history.date | date:'dd/mm/yyyy' }}</td>
                <td>{{ history.professional }}</td>
                <td>{{ history.description }}</td>
              </tr>
            </tbody>
          </table>

        </div>

      </div>

    </div>

  </div>


</div>